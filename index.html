<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Dolce Vita Creperia</title>
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'de',
                includedLanguages: 'de,en,it,fr,sq,tr,pt,es,sr,ar,uk',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false
            }, 'google_translate_element');
        }
    </script>
    <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <script src="swipe-navigation.js"></script>
    <script>
        function vibrateFeedback(ms = 20) {
            if (navigator.vibrate) {
                navigator.vibrate(ms);
            }
        }
    </script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Merienda&display=swap" rel="stylesheet">
</head>
<body>
    <div class="navbar">
        <button class="hamburger-btn" onclick="toggleNav(); vibrateFeedback(20)">â˜°</button>
        <div class="language-selector">
            <i class="fas fa-globe"></i>
            <select onChange="changeLanguage(this.value)">
                <option value="de">DE</option>
                <option value="en">EN</option>
                <option value="it">IT</option>
                <option value="fr">FR</option>
                <option value="es">ES</option>
                <option value="pt">PT</option>
                <option value="sq">SQ</option>
            </select>
        </div>
    </div>

    <div class="music-control">
        <audio id="bg-music" loop playsinline>
            <source src="attached_assets/Snippet Tarantella .mp3" type="audio/mpeg">
        </audio>
        <button onclick="toggleMusic()" class="music-toggle" aria-label="Musik abspielen/pausieren">
            <span class="music-label">Klicken fÃ¼r Musik</span>
            <span class="music-icon">ðŸŽµ</span>
        </button>
    </div>

    <div class="nav-container">
        <nav class="nav-menu">
            <button class="close-btn" onclick="toggleNav(); vibrateFeedback(20)">Ã—</button>
            <a href="index.html" onclick="vibrateFeedback()" data-translate="home">Home</a>
            <a href="ueber-uns.html" onclick="vibrateFeedback()" data-translate="about">Ãœber uns</a>
            <a href="menu.html" onclick="vibrateFeedback()" data-translate="menu">MenÃ¼</a>
            <a href="gallery.html" onclick="vibrateFeedback()" data-translate="gallery">Galerie</a>
            <a href="booking.html" onclick="vibrateFeedback()" data-translate="book">Jetzt Buchen</a>
            <a href="kontakt.html" onclick="vibrateFeedback()" data-translate="contact">Kontakt</a>
        </nav>
    </div>

    <section class="hero">
        <img src="hero-background.png" alt="La Dolce Vita Creperia" class="hero-logo">
        <h1 data-translate="welcome">Willkommen bei La Dolce Vita Creperia</h1>
        <p data-translate="subtitle">Die besten CrÃªpes in der Schweiz â€“ ein authentisches italienisches CrÃªpes-Erlebnis</p>
    </section>

    <section class="main-navigation">
        <div class="nav-buttons">
            <a href="ueber-uns.html" class="nav-button" onclick="vibrateFeedback()" data-translate="about">Ãœber uns</a>
            <a href="menu.html" class="nav-button" onclick="vibrateFeedback()" data-translate="menu">MenÃ¼</a>
            <a href="booking.html" class="nav-button" onclick="vibrateFeedback()" data-translate="book">Book Us Now</a>
            <a href="kontakt.html" class="nav-button" onclick="vibrateFeedback()" data-translate="contact">Kontakt Info</a>
        </div>
    </section>

    <div class="cta-section" style="text-align: center; margin: 2rem 0;">
        <a href="booking.html" class="book-now-btn" style="color: #003366;" onclick="vibrateFeedback()" data-translate="book">Jetzt buchen</a>
    </div>
    <footer>
        <div class="social-icons">
            <a href="https://www.instagram.com/ldvcreperia?igsh=MXN0dGhoZ2pqenJ3eA==" target="_blank" onclick="vibrateFeedback(15)">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.facebook.com/share/18syiZheqh/" target="_blank" onclick="vibrateFeedback(15)">
                <i class="fab fa-facebook"></i>
            </a>
            <a href="mailto:ldvcreperia@gmail.com" onclick="vibrateFeedback(15)">
                <i class="fas fa-envelope"></i>
            </a>
            <a href="https://wa.me/41768034207" target="_blank" onclick="vibrateFeedback(15)">
                <i class="fab fa-whatsapp"></i>
            </a>
        </div>
    </footer>

    <script>
    async function initializeAudio() {
        const music = document.getElementById("bg-music");
        const button = document.querySelector('.music-toggle');

        try {
            music.muted = true;
            await music.play();
            // Try to unmute if autoplay succeeded
            music.muted = false;
            if (!music.paused) {
                button.classList.add('active');
            }
        } catch (err) {
            console.log('Autoplay prevented:', err);
        }
    }

    function toggleMusic() {
        const music = document.getElementById("bg-music");
        const button = document.querySelector('.music-toggle');

        if (music.paused) {
            music.muted = false;
            music.play();
            button.classList.add('active');
        } else {
            music.pause();
            button.classList.remove('active');
        }
    }

    function changeLanguage(lang) {
        const translations = {
            "de": {
                "welcome": "Willkommen bei La Dolce Vita Creperia",
                "subtitle": "Die besten CrÃªpes in der Schweiz",
                "about": "Ãœber uns",
                "menu": "MenÃ¼",
                "gallery": "Galerie",
                "contact": "Kontakt",
                "book": "Jetzt buchen",
                "home": "Startseite"
            },
            "en": {
                "welcome": "Welcome to La Dolce Vita Creperia",
                "subtitle": "The best CrÃªpes in Switzerland",
                "about": "About Us",
                "menu": "Menu",
                "gallery": "Gallery",
                "contact": "Contact",
                "book": "Book Now",
                "home": "Home"
            },
            "it": {
                "welcome": "Benvenuti alla La Dolce Vita Creperia",
                "subtitle": "Le migliori crÃªpes in Svizzera",
                "about": "Chi Siamo",
                "menu": "MenÃ¹",
                "gallery": "Galleria",
                "contact": "Contatto",
                "book": "Prenota Ora",
                "home": "Home"
            },
            "fr": {
                "welcome": "Bienvenue Ã  La Dolce Vita Creperia",
                "subtitle": "Les meilleures crÃªpes de Suisse",
                "about": "Ã€ Propos",
                "menu": "Menu",
                "gallery": "Galerie",
                "contact": "Contact",
                "book": "RÃ©servez Maintenant",
                "home": "Accueil"
            },
            "es": {
                "welcome": "Bienvenido a La Dolce Vita Creperia",
                "subtitle": "Las mejores crÃªpes de Suiza",
                "about": "Sobre Nosotros",
                "menu": "MenÃº",
                "gallery": "GalerÃ­a",
                "contact": "Contacto",
                "book": "Reserva Ahora",
                "home": "Inicio"
            },
            "pt": {
                "welcome": "Bem-vindo Ã  La Dolce Vita Creperia",
                "subtitle": "Os melhores CrÃªpes na SuÃ­Ã§a",
                "about": "Sobre NÃ³s",
                "menu": "CardÃ¡pio",
                "gallery": "Galeria",
                "contact": "Contato",
                "book": "Reserve Agora",
                "home": "InÃ­cio"
            },
            "sq": {
                "welcome": "MirÃ« se vini nÃ« La Dolce Vita Creperia",
                "subtitle": "Krepat mÃ« tÃ« mira nÃ« ZvicÃ«r",
                "about": "Rreth Nesh",
                "menu": "Menu",
                "gallery": "Galeria",
                "contact": "Kontakt",
                "book": "Rezervo Tani",
                "home": "Ballina"
            }
        };

        document.querySelectorAll('[data-translate]').forEach(element => {
            const key = element.dataset.translate;
            if (translations[lang][key]) {
                element.textContent = translations[lang][key];
            }
        });
    }

    function toggleTranslateMenu() {
        const el = document.getElementById("google_translate_element");
        if (el.style.display === "block") {
            el.style.display = "none";
        } else {
            el.style.display = "block";
        }
    }

    function toggleNav() {
        document.querySelector('.nav-menu').classList.toggle('active');
    }

        window.onpageshow = function(event) {
            if (event.persisted) {
                document.querySelector('link[href="style.css"]').setAttribute('href', 'style.css?' + Date.now());
            }
        };
    document.addEventListener('DOMContentLoaded', initializeAudio);
    </script>
</body>
</html>